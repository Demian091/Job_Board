{% extends 'base.html' %}
{% block content %}
<div class="job-list-container">
    <!-- Page Title -->
    <h2 class="page-title">Available Jobs</h2>

    <!-- Filter Form -->
    <form method="get" class="filter-form">
        <!-- Search Bar -->
        <input type="text" name="q" class="search-input"
               placeholder="Search jobs..."
               value="{{ request.GET.q }}">

        <!-- Category Filter -->
        <select name="category" class="category-select">
            <option value="all">All Categories</option>
            {% for cat in categories %}
                <option value="{{ cat }}" {% if request.GET.category == cat %}selected{% endif %}>
                    {{ cat }}
                </option>
            {% endfor %}
        </select>

        <!-- Submit Button -->
        <button type="submit" class="filter-btn">Filter</button>
    </form>

    <!-- Job List -->
    <ul class="job-list">
        {% for job in jobs %}
            <li class="job-card">
                <a href="{% url 'job_detail' job.id %}" class="job-link">
                    <h3 class="job-title">{{ job.title }}</h3>
                    <p class="job-category">{{ job.category }}</p>
                    <p class="company-location">
                        {{ job.company.name }} â€¢ {{ job.location }}
                    </p>
                </a>
            </li>
        {% empty %}
            <p class="no-jobs">No jobs found.</p>
        {% endfor %}
    </ul>
</div>
{% endblock %}
